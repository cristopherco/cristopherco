<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Portafolio | Keta Dev</title>
  <meta name="description" content="Portafolio personal de Keta: proyectos, sitios web y diseño digital." />
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" href="favicon.png" type="image/x-icon" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
</head>
<body>

  <!-- =================== HERO =================== -->
  <header class="hero">
    <div class="overlay"></div>
    <div class="hero-content">
      <h1>Cristopher Dev</h1>
      <p>Diseñador y desarrollador web — construyendo experiencias únicas en la web.</p>
      <a href="#proyectos" class="btn">Ver mis proyectos</a>
    </div>
  </header>

  <!-- =================== SECCIÓN INFORMACIÓN =================== -->
  <section class="info" id="info">
    <h2>¿Por qué es importante una página web para mi negocio?</h2>
    <div class="info-grid">
      <div class="card">
        <i class="fa-solid fa-globe"></i>
        <h3>Presencia 24/7</h3>
        <p>Tu negocio nunca duerme: una página web permite que te encuentren a cualquier hora del día.</p>
      </div>

      <div class="card">
        <i class="fa-solid fa-bullhorn"></i>
        <h3>Promoción y marketing</h3>
        <p>Una web bien diseñada te permite destacar tus productos y conectar con tus clientes potenciales.</p>
      </div>

      <div class="card">
        <i class="fa-solid fa-handshake"></i>
        <h3>Confianza y profesionalismo</h3>
        <p>Un sitio web transmite seriedad y mejora la percepción de tu marca ante nuevos clientes.</p>
      </div>

      <div class="card">
        <i class="fa-solid fa-chart-line"></i>
        <h3>Más ventas y alcance</h3>
        <p>Con estrategias digitales adecuadas, una web puede convertirse en tu mejor vendedor.</p>
      </div>
    </div>
  </section>

  <!-- =================== SECCIÓN PROYECTOS =================== -->
<section class="proyectos" id="proyectos">
  <h2>Algunos de mis trabajos</h2>
  <div class="projects-grid">

    <!-- Proyecto con video -->
    <div class="project">
      <video class="preview"
             playsinline
             muted
             loop
             preload="metadata"
             poster="img/altarposter.jpg">
        <source data-src="videos/altar.mp4" type="video/mp4" />
      </video>
      <div class="project-info">
        <h3>Altar de Adoración</h3>
        <a href="https://altardeadoracion.sbs/" target="_blank">Ver sitio</a>
      </div>
    </div>

    <!-- Duplica el bloque .project para más trabajos cambiando poster y data-src -->
    <!-- ... -->

  </div>
</section>

  <!-- =================== FOOTER =================== -->
  <footer class="footer">
    <p>© 2025 Keta Dev — Todos los derechos reservados.</p>
    <div class="socials">
      <a href="#"><i class="fa-brands fa-instagram"></i></a>
      <a href="#"><i class="fa-brands fa-facebook"></i></a>
      <a href="#"><i class="fa-brands fa-github"></i></a>
    </div>
  </footer>

<script>
(function () {
  const videos = Array.from(document.querySelectorAll('.project video'));

  // Carga diferida: pasa data-src -> src cuando entra en vista
  const ensureSrc = (video) => {
    const source = video.querySelector('source');
    if (source && source.dataset.src && !source.dataset.loaded) {
      source.src = source.dataset.src;
      source.dataset.loaded = "true";
      video.load(); // prepara el buffer con metadata
    }
  };

  // Observador para reproducir/pausar según visibilidad
  const io = new IntersectionObserver((entries) => {
    entries.forEach(async (entry) => {
      const video = entry.target;
      if (entry.isIntersecting && entry.intersectionRatio >= 0.6) {
        ensureSrc(video);
        try {
          await video.play(); // autoplay permitido porque está muted + playsinline
        } catch (e) {
          // Si el navegador bloquea, lo ignoramos
        }
      } else {
        // Pausa al salir y regresa al inicio
        video.pause();
        video.currentTime = 0;
      }
    });
  }, { threshold: [0, 0.6, 1] });

  videos.forEach(v => io.observe(v));

  // Pausar todo si la pestaña pierde foco (ahorra batería/datos)
  document.addEventListener('visibilitychange', () => {
    if (document.hidden) {
      videos.forEach(v => { v.pause(); v.currentTime = 0; });
    }
  }, false);
})();
</script>


</body>
</html>
